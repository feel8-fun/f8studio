{
  "schemaVersion": "f8service/1",
  "canonicalId": "fun.feel8.engine",
  "serviceSlug": "f8_engine",
  "label": "Engine",
  "description": "Runtime graph host with tick-based execution and cross-instance wiring.",
  "tags": ["engine", "runtime", "graph"],
  "version": "0.1.0",
  "launch": {
    "command": "./engine",
    "args": ["--instance", "{{instanceId}}"],
    "env": {}
  },
  "state": [
    {
      "name": "status",
      "label": "Status",
      "type": "enum",
      "enumValues": ["starting", "running", "paused", "stopped", "error"],
      "default": "starting",
      "required": true,
      "access": "ro"
    },
    {
      "name": "tick.rateHz",
      "label": "Tick Rate (Hz)",
      "description": "Ticks per second; editable only when deactivated.",
      "type": "float",
      "default": 30.0,
      "required": true,
      "access": "init",
      "minimum": 0.1,
      "maximum": 1000
    }
  ],
  "allowAddState": false,
  "commands": [
    { "name": "PAUSE", "description": "Pause execution" },
    { "name": "RESUME", "description": "Resume execution" },
    { "name": "STOP", "description": "Stop execution" },
    {
      "name": "APPLY_GRAPH",
      "description": "Apply graph diff or replace",
      "params": [
        { "name": "mode", "type": "string", "required": false },
        { "name": "expectedRevision", "type": "int", "required": false }
      ]
    },
    { "name": "SNAPSHOT", "description": "Get current graph snapshot" }
  ],
  "allowAddCommands": false,
  "inPorts": [],
  "outPorts": [],
  "allowAddInPorts": false,
  "allowAddOutPorts": false
}
