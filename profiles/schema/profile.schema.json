{
  "$id": "https://f8/profiles/profile.schema.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "f8 platform profile",
  "type": "object",
  "properties": {
    "mode": { "type": "string", "enum": ["web-only", "web-plus-daemon"] },
    "platform": { "type": "string", "enum": ["win", "mac", "linux"] },
    "browser": { "type": "string", "enum": ["chrome", "edge"] },
    "hardware": {
      "type": "object",
      "properties": {
        "cpuCores": { "type": "integer", "minimum": 1 },
        "ramGB": { "type": "integer", "minimum": 1 }
      },
      "required": ["cpuCores", "ramGB"]
    },
    "features": {
      "type": "object",
      "properties": {
        "graphEdit": { "type": "boolean", "const": true },
        "playback": { "type": "boolean" },
        "libmpv": { "type": "boolean" },
        "nats": { "type": "boolean" }
      },
      "required": ["graphEdit", "playback", "libmpv", "nats"]
    },
    "limits": {
      "type": "object",
      "properties": {
        "bandwidthMbps": { "type": "number", "default": 20 },
        "singleUser": { "type": "boolean", "const": true }
      },
      "required": ["bandwidthMbps", "singleUser"]
    }
  },
  "required": ["mode", "platform", "browser", "hardware", "features", "limits"],
  "additionalProperties": false
}
