<!-- AUTO-GENERATED by scripts/generate_service_docs.py. DO NOT EDIT DIRECTLY. -->
# Screen Capture (`f8.screencap`)

No description.

- Service class: `f8.screencap`
- Version: `0.0.1`
- Source directory: `f8/screencap`
- Tags: `video`, `capture`, `shm`

## How to Run

```bash
pixi run -e default python scripts/run_cpp_service.py --service-dir services/f8/screencap --exe f8screencap_service --env-var F8SCREENCAP_EXE
```

- Workdir: `../../../`
- Environment overrides: none

## Service State Fields

| Name | Access | Required | On Node | Schema | Description |
| --- | --- | --- | --- | --- | --- |
| `videoShmName` | `ro` | `false` | `true` | `string` | Shared memory region name |
| `videoShmEvent` | `ro` | `false` | `false` | `string` | Shared memory event name |
| `mode` | `rw` | `false` | `false` | `string / enum[display, window, region]` | display\|window\|region |
| `fps` | `rw` | `false` | `true` | `number` | Capture rate |
| `displayId` | `ro` | `false` | `false` | `integer` | 0..N-1 (see listDisplays) |
| `windowId` | `ro` | `false` | `false` | `string` | backend-specific (e.g. win32:hwnd:0x... or x11:win:0x...) |
| `window` | `ro` | `false` | `false` | `object{backend, id, pid, rect, ...}` | Resolved window metadata (best-effort) |
| `region` | `ro` | `false` | `false` | `object{h, w, x, y}` | Virtual desktop coordinates |
| `scale` | `ro` | `false` | `false` | `object{h, w}` | Optional output size (0 disables) |
| `captureRunning` | `ro` | `false` | `false` | `boolean` | Is capture currently running |
| `lastError` | `ro` | `false` | `false` | `string` | Last error message |
| `videoWidth` | `ro` | `false` | `true` | `integer` | Width of the video frame in pixels |
| `videoHeight` | `ro` | `false` | `true` | `integer` | Height of the video frame in pixels |
| `videoPitch` | `ro` | `false` | `false` | `integer` | Number of bytes per row of the video frame |
| `active` | `rw` | `false` | `true` | `boolean / default=True` | Service lifecycle state (activate/deactivate). |
| `svcId` | `ro` | `false` | `false` | `string` | Readonly: current service instance id (svcId). |

## Service Commands

### `listDisplays`
List displays/monitors (backend-specific)

- Show on node: `false`
- Params: none

### `pickDisplay`
Interactive pick a display (hover highlight + click)

- Show on node: `true`
- Params: none

### `pickWindow`
Interactive pick a window (hover highlight + click)

- Show on node: `true`
- Params: none

### `pickRegion`
Interactive pick a region (click-drag to draw)

- Show on node: `true`
- Params: none

## Service Data Input Ports

_None_

## Service Data Output Ports

| Name | Required | On Node | Schema | Description |
| --- | --- | --- | --- | --- |
| `frameId` | `false` | `false` | `integer` | Monotonic frame counter. |

## Operators

_None_

## Usage Guide (Manual)

### Recommended Use Cases

- Desktop capture input for live detection and tracking workflows.
- Fast prototyping without camera hardware dependencies.

### Minimal Run Example

```bash
pixi run -e default python scripts/run_cpp_service.py --service-dir services/f8/screencap --exe f8screencap_service --env-var F8SCREENCAP_EXE
```

### Common Pitfalls

- Linux Wayland sessions are not supported by current backend.
- Capture permissions can block frame acquisition.

### Troubleshooting

- On Linux, run under X11 and validate `DISPLAY`.
- Test display enumeration before starting full scenario graph.
