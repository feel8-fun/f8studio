<!-- AUTO-GENERATED by scripts/generate_service_docs.py. DO NOT EDIT DIRECTLY. -->
# CVKit Tracking (`f8.cvkit.tracking`)

No description.

- Service class: `f8.cvkit.tracking`
- Version: `0.0.1`
- Source directory: `f8/cvkit/tracking`
- Tags: `cv`, `tracking`

## How to Run

```bash
pixi run -e default python scripts/run_cpp_service.py --service-dir services/f8/cvkit/tracking --exe f8cvkit_tracking_service --env-var F8CVKIT_TRACKING_EXE
```

- Workdir: `../../../../`
- Environment overrides: none

## Service State Fields

| Name | Access | Required | On Node | Schema | Description |
| --- | --- | --- | --- | --- | --- |
| `shmName` | `rw` | `false` | `true` | `string` | Optional SHM name override (e.g. shm.xxx.video). |
| `initSelect` | `rw` | `false` | `true` | `string / enum[closest_center, largest_area, highest_score] / default=closest_center` | Init bbox selection strategy: closest_center \| largest_area \| highest_score. |
| `isTracking` | `ro` | `false` | `true` | `boolean` | True when tracker is running. |
| `isNotTracking` | `ro` | `false` | `true` | `boolean` | Negation of isTracking. |
| `lastError` | `ro` | `false` | `true` | `string` | Last error message. |
| `active` | `rw` | `false` | `true` | `boolean / default=True` | Service lifecycle state (activate/deactivate). |
| `svcId` | `ro` | `false` | `false` | `string` | Readonly: current service instance id (svcId). |

## Service Commands

### `stopTracking`
Stop current tracking and return to waiting for initBox.

- Show on node: `true`
- Params: none

## Service Data Input Ports

| Name | Required | On Node | Schema | Description |
| --- | --- | --- | --- | --- |
| `initBox` | `false` | `true` | `any` | Init payload (single bbox or nested detection tree). Recursively extracts bbox candidates and uses the one closest to image center. |

## Service Data Output Ports

| Name | Required | On Node | Schema | Description |
| --- | --- | --- | --- | --- |
| `tracking` | `false` | `true` | `object{bbox, frameId, height, status, ...}` | Tracking output stream. |
| `telemetry` | `false` | `true` | `object{avgProcessMs, droppedFrames, fps, frameId, ...}` | Runtime telemetry: fps/process time/dropped frames. |

## Operators

_None_

## Usage Guide (Manual)

### Recommended Use Cases

- Follow detector-provided bounding boxes through time.
- Build persistent target state for downstream control chains.

### Minimal Run Example

```bash
pixi run -e default python scripts/run_cpp_service.py --service-dir services/f8/cvkit/tracking --exe f8cvkit_tracking_service --env-var F8CVKIT_TRACKING_EXE
```

### Common Pitfalls

- Invalid `initBox` schema prevents tracker startup.
- Frequent detector resets can fight tracker state.

### Troubleshooting

- Validate detector output shape before routing to `initBox`.
- Use `stopTracking` command to recover from stale state.
