<!-- AUTO-GENERATED by scripts/generate_service_docs.py. DO NOT EDIT DIRECTLY. -->
# Python Expr Service (`f8.pyexpr`)

Standalone expression runtime service for simplified data-flow transforms.

- Service class: `f8.pyexpr`
- Version: `0.0.1`
- Source directory: `f8/pyexpr`
- Tags: `python`, `expr`, `service`

## How to Run

```bash
pixi run f8pyexpr
```

- Workdir: `../../../`
- Environment overrides: none

## Service State Fields

| Name | Access | Required | On Node | Schema | Description |
| --- | --- | --- | --- | --- | --- |
| `code` | `rw` | `false` | `true` | `string / default=msg` | Single-line expression. Available names: inputs + identifier-safe input ports. |
| `allowNumpy` | `wo` | `false` | `false` | `boolean / default=False` | Enable numpy calls in expressions (np.*, numpy.*). |
| `unpackDictOutputs` | `wo` | `false` | `false` | `boolean / default=False` | When enabled, dict results are emitted per matching output port key. |
| `lastError` | `ro` | `false` | `false` | `string / default=` | Last expression compile/eval error. |
| `active` | `rw` | `false` | `true` | `boolean / default=True` | Service lifecycle state (activate/deactivate). |
| `svcId` | `ro` | `false` | `false` | `string` | Readonly: current service instance id (svcId). |

## Service Commands

_None_

## Service Data Input Ports

| Name | Required | On Node | Schema | Description |
| --- | --- | --- | --- | --- |
| `msg` | `true` | `true` | `any` | Default input value. |

## Service Data Output Ports

| Name | Required | On Node | Schema | Description |
| --- | --- | --- | --- | --- |
| `out` | `true` | `true` | `any` | Default expression output value. |

## Operators

_None_

## Usage Guide (Manual)

# Python Expr Service (`f8.pyexpr`)

`f8.pyexpr` is a standalone expression service for lightweight data-flow transforms.

## State Fields

- `code` (`rw`): single-line expression.
- `allowNumpy` (`rw`): enables `np.*` / `numpy.*` calls.
- `unpackDictOutputs` (`rw`): controls dict-output fanout behavior.
- `lastError` (`ro`): last compile/eval error.
- `active` (`rw`): lifecycle active flag.

## Expression Names

- `inputs`: dict of latest input values by port name.
- Identifier-safe input ports are also injected directly as variables.

## Dict Output Behavior

- `unpackDictOutputs = false` (default):
  - A dict result is emitted as one value to default output (`out`).
  - Example result: `{"a": 1}` -> emits one payload `{"a": 1}` on `out`.
- `unpackDictOutputs = true`:
  - Dict keys are treated as output port names.
  - Example result: `{"a": 1, "b": 2}` -> emits `1` on port `a`, `2` on port `b`.
  - Keys without matching output ports are ignored (deduped warning only).
