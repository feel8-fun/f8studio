<!-- AUTO-GENERATED by scripts/generate_service_docs.py. DO NOT EDIT DIRECTLY. -->
# IM Player (`f8.implayer`)

C++ MPV-based player service with shared-memory video output.

- Service class: `f8.implayer`
- Version: `0.0.1`
- Source directory: `f8/implayer`
- Tags: none

## How to Run

```bash
services/f8/implayer/linux/f8implayer_service
```

- Workdir: `../../../`
- Environment overrides: none

## Service State Fields

| Name | Access | Required | On Node | Schema | Description |
| --- | --- | --- | --- | --- | --- |
| `loop` | `rw` | `false` | `false` | `boolean` | Repeat playlist when reaching EOF. |
| `mediaUrl` | `rw` | `false` | `true` | `string` | URI or file path to open. |
| `volume` | `rw` | `false` | `true` | `number` | 0.0-1.0 |
| `playing` | `ro` | `false` | `false` | `boolean` | Playback state. |
| `duration` | `ro` | `false` | `true` | `number` | Duration (seconds). |
| `lastError` | `ro` | `false` | `false` | `string` | Last error message. |
| `videoShmName` | `ro` | `false` | `true` | `string` | Shared memory region name. |
| `videoShmEvent` | `ro` | `false` | `false` | `string` | Optional named event to signal new frames. |
| `videoShmMaxWidth` | `rw` | `false` | `false` | `integer` | Downsample limit (0 = auto). |
| `videoShmMaxHeight` | `rw` | `false` | `false` | `integer` | Downsample limit (0 = auto). |
| `videoShmMaxFps` | `rw` | `false` | `false` | `number` | Copy rate limit (0 = unlimited). |
| `authMode` | `rw` | `false` | `false` | `string` | Cookie auth mode: `none` \| `browser` \| `cookiesFile` (default `none`). |
| `authBrowser` | `rw` | `false` | `false` | `string` | Browser for `authMode=browser`: `chrome` \| `chromium` \| `edge` \| `firefox` \| `safari`. |
| `authBrowserProfile` | `rw` | `false` | `false` | `string` | Optional browser profile for `authMode=browser`. Sensitive runtime value (not persisted). |
| `authCookiesFile` | `rw` | `false` | `false` | `string` | cookies.txt path for `authMode=cookiesFile`. Sensitive runtime value (not persisted). |
| `decodedWidth` | `ro` | `false` | `false` | `integer` | Decoded/source video width (on-screen uses this). |
| `decodedHeight` | `ro` | `false` | `false` | `integer` | Decoded/source video height (on-screen uses this). |
| `videoWidth` | `ro` | `false` | `false` | `integer` | Width of the video frame. |
| `videoHeight` | `ro` | `false` | `false` | `integer` | Height of the video frame. |
| `videoPitch` | `ro` | `false` | `false` | `integer` | Pitch of the video frame. |
| `active` | `rw` | `false` | `true` | `boolean / default=True` | Service lifecycle state (activate/deactivate). |
| `svcId` | `ro` | `false` | `false` | `string` | Readonly: current service instance id (svcId). |

## Service Commands

### `open`
Open a media URL

- Show on node: `true`

| Param | Required | Schema | Description |
| --- | --- | --- | --- |
| `url` | `true` | `string` |  |

### `play`
Start playback

- Show on node: `true`
- Params: none

### `pause`
Pause playback

- Show on node: `true`
- Params: none

### `stop`
Stop playback

- Show on node: `true`
- Params: none

### `seek`
Seek

- Show on node: `false`

| Param | Required | Schema | Description |
| --- | --- | --- | --- |
| `position` | `true` | `number` |  |

### `setVolume`
Set volume

- Show on node: `false`

| Param | Required | Schema | Description |
| --- | --- | --- | --- |
| `volume` | `true` | `number` |  |

## Service Data Input Ports

_None_

## Service Data Output Ports

| Name | Required | On Node | Schema | Description |
| --- | --- | --- | --- | --- |
| `media` | `false` | `false` | `object{url, videoId}` | Emitted when a new media is opened (videoId + url). |
| `playback` | `false` | `false` | `object{duration, playing, position, videoId}` | Playback telemetry stream (position/duration/playing). |
| `frameId` | `false` | `false` | `integer` | Monotonic frame counter for new shm frames. |

## Operators

_None_

## Usage Guide (Manual)

### Recommended Use Cases

- Feed local media into shared memory for detection/pose services.
- Validate end-to-end pipelines with deterministic playback.

### Minimal Run Example

```bash
services/f8/implayer/linux/f8implayer_service
```

### Common Pitfalls

- Missing codec/runtime libraries on target host.
- Wrong SHM name wiring disconnects downstream consumers.
- For website URLs, guest mode may provide lower quality streams when cookie auth is not configured.

### Troubleshooting

- Verify media playback locally before integrating downstream nodes.
- Confirm `shmName` is identical across producer and consumers.
- Browser mode requires a logged-in browser profile on the same machine.
- cookies file mode requires a valid existing cookies file path.
